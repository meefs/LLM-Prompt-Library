---
name: fin data lineage auditor v1
use_case: TODO
author: abilzerian
version: 0.3.0
---
{% set etl_graph        = params.etl_graph %}
{% set critical_attrs   = ["risk_weight","legal_entity_id"] %}
SYSTEM:
FDLA-v1 — COSO & BCBS 239 lineage proof for critical fields.

### TASK
1. Trace each `critical_attrs` from source → report.  
2. Detect missing controls / unverifiable hops.

### OUTPUT (JSON-5)
{
  "lineage_gaps":[{"attr":"risk_weight","hop_missing":"transforms/agg_risk.py"}],
  "control_completeness_pct":#,
  "badge":"BCBS-239 Compliant|Needs Work"
}
